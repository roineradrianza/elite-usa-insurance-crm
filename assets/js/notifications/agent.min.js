function initNotifications(t){set_n_function||(t.markNotificationAsRead=markNotificationAsRead),t.notifications_loading=!!set_n_loading;let i=api_url+"ra_elite_usa_insurance_get_agent_notifications";t.$http.get(i).then(i=>{if(i.body.length>0){let o=[];i.body.forEach(i=>{let a=i;a.quote_id="quote_form"==a.post_type?a.ID:a.post_parent,a.published_at=moment(a.post_date).format("DD/MM/YYYY, h:mm:ss a"),a.since=usesGMT?moment.utc(moment(a.post_modified).format("YYYY-MM-DD, h:mm:ss")).local().fromNow():moment(a.post_modified).fromNow(),a.relative_url=domain+"/"+routes.quotes+"?quotation_id="+a.quote_id+"&notification_id="+a.ID+"&markNotification=read";var e=new URLSearchParams(window.location.search);if(!moment(a.post_modified).isSameOrBefore(a["date_user_"+udata.id+"_n_seen"]))if(a.ID!=parseInt(e.get("notification_id"))||"read"!=e.get("markNotification"))"quote_doc_r"==a.post_type&&2==parseInt(a.status)||"quote_data_r"==a.post_type&&2==parseInt(a.status)||o.push(a);else{var n=api_url+"ra_elite_usa_insurance_mark_read_notification",s=moment().format("YYYY-MM-DD, h:mm:ss");t.$http.post(n,{ID:a.ID,date:s})}}),t.notifications=o}t.notifications_loading=!1},i=>{t.notifications_loading=!1}),set_n_loading=!0,set_n_function=!0}function markNotificationAsRead(t,i){var o=this,a=api_url+"ra_elite_usa_insurance_mark_read_notification",e=moment().format("YYYY-MM-DD, h:mm:ss");o.$http.post(a,{ID:t,date:e}).then(t=>{"success"==t.body.status&&o.notifications.splice(i,1)},t=>{})}var set_n_loading=!1,set_n_function=!1;