const vuetify=new Vuetify(vuetify_opts),api_url=ra_elite_usa_insurance_ajaxurl;let vm=new Vue({vuetify:vuetify,el:"#ra-elite-usa-insurance-container",data:{selectedItem:4,barAlert:!1,barTimeout:6e3,barMessage:"",table_loading:!1,alert:!1,alert_type:"",alert_message:"",notifications_loading:!1,pdf_loading:!1,percent_loading_active:!1,percent_loading:!1,requests_table_loading:!1,attachments_table_loading:!1,manager_attachments_table_loading:!1,manager_attachment_loading:!1,agent_attachments_table_loading:!1,agent_attachment_loading:!1,information_requests_table_loading:!1,information_requests_loading:!1,quote_loading:!1,attachment_loading:!1,view_dialog:!1,edit_dialog:!1,delete_dialog:!1,countries:countries,affordable_care_act_valid:!0,personal_information_valid:!0,employment_information_valid:!0,espouse_information_valid:!0,espouse_employment_information_valid:!0,dependents_information_valid:!0,payment_information_valid:!0,affordable_care_act_effectiveness_date_modal:!1,personal_information_birthdate_modal:!1,personal_information_document_expiration_modal:!1,affordable_care_act_date_modal:!1,espouse_information_birthdate_modal:!1,espouse_information_document_expiration_modal:!1,dependent_birthdate_modal:!1,dependent_expires_modal:!1,payment_expiration_date_modal:!1,autopay_date_modal:!1,routes:routes,notifications:[],options:{general:[{text:"Yes",value:1},{text:"No",value:0}],coverage_type:["INDIVIDUAL","FAMILY"],status:["Processing","In tray","Approved"],marital_status:["MARRIED","SINGLE"],inmigration_status:["WORK PERMIT AUTHORIZATION","RESIDENT / GREEN CARD","OTHER"],work_type:["W2","1099"],payment_by:["PER HOUR","WEEKLY","BIWEEKLY","MONTHLY","YEARLY"],relative:["Child","Mother","Father","Other"],payment_type:["","BANK ACCOUNT","CREDIT OR DEBIT CARD"],account_type:["CHECKING","SAVING"],cards_type:["DEBIT","CREDIT"],cards_entity_type:["MASTER CARD","VISA","AMERICAN EXPRESS","DISCOVER"]},countries:countries,rules:{required:[e=>!!e||"This field is required"],name:[e=>!!e||"Name is required",e=>e&&e.length<=10||"Name must be more than 10 characters"],ucis:[e=>""!=!e||9==e.length||"You need to fill the 9 characters"],card_number:[e=>""!=!e||13==e.length||"You need to fill the 13 characters"],email:[e=>!!e||"E-mail is required",e=>/.+@.+\..+/.test(e)||"E-mail must be valid"]},modifications:{expanded:[],header:[{text:"Date",align:"center",value:"published_at"},{text:"Status",align:"center",value:"status"},{text:"Action",align:"center",value:"actions"}],items:[],content:""},attachments:{dialog:!1,delete_dialog:!1,upload_dialog:!1,header:[{text:"Date",align:"center",value:"published_at"},{text:"Name",align:"center",value:"post_title"},{text:"Status",align:"center",value:"status"},{text:"Action",align:"center",value:"actions"}],items:[],editedItem:{post_title:""},editedIndex:-1},manager_attachments:{dialog:!1,delete_dialog:!1,header:[{text:"Date",align:"center",value:"published_at"},{text:"Name",align:"center",value:"post_title"},{text:"Action",align:"center",value:"actions"}],items:[],editedItem:{post_title:""},editedIndex:-1},agent_attachments:{dialog:!1,delete_dialog:!1,header:[{text:"Date",align:"center",value:"published_at"},{text:"Name",align:"center",value:"post_title"},{text:"Action",align:"center",value:"actions"}],items:[],editedItem:{post_title:""},editedIndex:-1},routes:routes,inbox:{view_dialog:!1,loading_details:!1,search:"",header:[{text:"ID",align:"left",value:"quote_id"},{text:"Date",align:"left",value:"published_at"},{text:"Description",align:"center",value:"post_title"},{text:"type",align:"center",value:"post_type"},{text:"Status",align:"center",value:"status"},{text:"Action",align:"center",value:"actions"}],items:[],editedItem:{},editedIndex:-1},information_requests:{dialog:!1,delete_dialog:!1,header:[{text:"Date",align:"center",value:"published_at"},{text:"Information",align:"center",value:"post_title"},{text:"Content",align:"center",value:"post_content"},{text:"Status",align:"center",value:"status"},{text:"Action",align:"center",value:"actions"}],items:[],editedItem:{post_title:"",post_content:""},editedIndex:-1},action_history:{dialog:!1,details_dialog:!1,loading:!1,headers:[{text:"Date",align:"center",value:"created_at"},{text:"Description",align:"center",value:"action_message"},{text:"Action",align:"center",value:"actions"}],items:[],editedItem:{},detail_items:[]}},computed:{formAttachmentTitle(){return-1===this.attachments.editedIndex?"New Document Attachment":"Edit Document Attachment"},formManagerAttachmentTitle(){return-1===this.manager_attachments.editedIndex?"New Document Attachment":"Edit Document Attachment"},formRequestInformationTitle(){return-1===this.information_requests.editedIndex?"New Information Request":"Edit Information Request"}},watch:{},created(){this.initialize(),initNotifications(this),setInterval(initNotifications,3e4,this)},mounted(){},methods:{logout(){var e=this,t=api_url+"ra_elite_usa_insurance_logout";e.logout_loading=!0,e.$http.get(t).then(t=>{e.logout_loading=!1,window.location=t.body.redirect_url},t=>{e.logout_loading=!1})},initialize(){var e=this,t=api_url+"ra_elite_usa_insurance_get_inbox";e.inbox.items=[],e.table_loading=!0,e.$http.get(t).then(t=>{if(e.table_loading=!1,t.body.length>0){t.body.forEach(t=>{var a=t;if(a.published_at=moment(a.post_date).format("DD/MM/YYYY, h:mm:ss a"),a.quote_id="quote_form"==a.post_type?a.ID:a.post_parent,"quote_form"==a.post_type)a.applicant=a.personal_information.first_name+" "+a.personal_information.middle_name+" "+a.personal_information.last_name,a.type=a.post_parent<=0?"First-Time":"Renewal",a.personal_information.same_address=a.personal_information.hasOwnProperty("same_address")?a.personal_information.same_address:1,a.affordable_care_act.hasOwnProperty("renewal_date")?a.year=moment(a.affordable_care_act.renewal_date).format("YYYY"):a.year=moment(a.affordable_care_act.effectiveness_date).isSameOrAfter(moment(a.affordable_care_act.date))?moment(a.affordable_care_act.effectiveness_date).format("YYYY"):moment(a.affordable_care_act.date).format("YYYY");else{if("quote_doc_r"==a.post_type&&0==parseInt(a.status))return;if("quote_data_r"==a.post_type&&0==parseInt(a.status))return}e.inbox.items.push(a)})}},t=>{e.table_loading=!1})},generateQuotePDF(){var e=this,t=e.inbox.editedItem,a=api_url+"ra_elite_usa_insurance_generate_quote_pdf";e.pdf_loading=!0,e.$http.post(a,t).then(t=>{if("success"==t.body.status){e.pdf_loading=!1;var a=t.body,s=document.createElement("a");s.href=a.content,document.body.append(s),s.download=a.applicant+".pdf",s.click(),s.remove()}},e=>{})},getModificationRequests(){var e=this;e.modifications.items=[];var t=e.inbox.editedItem,a=api_url+"ra_elite_usa_insurance_get_quote_modification_requests",s=(e.inbox.editedIndex,{post_parent:t.ID});e.requests_table_loading=!0,e.$http.post(a,s).then(t=>{e.requests_table_loading=!1;var a=[];t.body.length>0&&(a=t.body),e.modifications.items=a},e=>{})},getAttachmentsRequests(){var e=this;e.attachments.items=[];var t=e.inbox.editedItem,a=api_url+"ra_elite_usa_insurance_get_quote_attachment_requests",s=(e.inbox.editedIndex,{post_parent:t.ID});e.attachments_table_loading=!0,e.$http.post(a,s).then(t=>{e.attachments_table_loading=!1;var a=[];t.body.length>0&&(a=t.body),e.attachments.items=a},e=>{})},getManagerAttachments(){var e=this;e.manager_attachments.items=[];var t=e.inbox.editedItem,a=api_url+"ra_elite_usa_insurance_get_quote_manager_attachments",s={post_parent:t.ID};e.manager_attachments_table_loading=!0,e.$http.post(a,s).then(t=>{e.manager_attachments_table_loading=!1;var a=[];t.body.length>0&&(a=t.body),e.manager_attachments.items=a},e=>{})},getInformationRequests(){var e=this;e.information_requests.items=[];var t=e.inbox.editedItem,a=api_url+"ra_elite_usa_insurance_get_quote_information_requests",s={post_parent:t.ID};e.information_requests_table_loading=!0,e.$http.post(a,s).then(t=>{e.information_requests_table_loading=!1;var a=[];t.body.length>0&&(a=t.body),e.information_requests.items=a},e=>{})},getActionsHistory(e){var t=this;t.action_history.items=[];var a=api_url+"ra_elite_usa_insurance_get_quote_action_history",s={ID:e.ID};t.action_history.loading=!0,t.$http.post(a,s).then(e=>{t.action_history.loading=!1;var a=[];e.body.length>0&&e.body.forEach((e,t)=>{e.extra_info=JSON.parse(e.extra_info),"quote_doc_r"==e.extra_info.post_type&&e.extra_info.meta_input.attachment_url.includes("[")&&(e.extra_info.meta_input.attachment_url=JSON.parse(e.extra_info.meta_input.attachment_url))}),a=e.body,t.action_history.items=a},e=>{})},getAgentAttachments(){var e=this;e.agent_attachments.items=[];var t=e.quotes.editedItem,a=api_url+"ra_elite_usa_insurance_get_quote_agent_attachments",s={post_parent:t.ID};e.agent_attachments_table_loading=!0,e.$http.post(a,s).then(t=>{e.agent_attachments_table_loading=!1;var a=[];t.body.length>0&&(a=t.body),e.agent_attachments.items=a},e=>{})},editAgentAttachmentItem(e){this.agent_attachments.editedIndex=this.agent_attachments.items.indexOf(e),this.agent_attachments.editedItem=Object.assign({},e),this.agent_attachments.dialog=!0},deleteAgentAttachmentItem(e){this.agent_attachments.editedIndex=this.agent_attachments.items.indexOf(e),this.agent_attachments.editedItem=Object.assign({},e),this.agent_attachments.delete_dialog=!0},closeAgentAttachment(){this.agent_attachments.dialog=!1,this.$nextTick(()=>{this.agent_attachments.editedItem=Object.assign({},{}),this.agent_attachments.editedIndex=-1})},saveManagerAttachment(){var e=this,t=e.agent_attachments.editedItem,a=api_url+"ra_elite_usa_insurance_save_quote_agent_attachment",s=e.agent_attachments.editedIndex,n=new FormData;t.hasOwnProperty("ID")&&null!=t.ID&&n.append("ID",t.ID),n.append("post_parent",e.quotes.editedItem.ID),n.append("agent",e.quotes.editedItem.post_author),n.append("post_title",t.post_title),null==t.doc&&""==t.doc||n.append("attachment",t.doc),t.hasOwnProperty("post_author")&&""!=t.post_author&&n.append("post_author",t.post_author),t.hasOwnProperty("attachment_id")&&""!=t.attachment_id&&n.append("attachment_id",t.attachment_id),t.hasOwnProperty("attachment_url")&&""!=t.attachment_url&&n.append("attachment_url",t.attachment_url),e.manager_attachment_loading=!0,e.$http.post(a,n,{progress(t){t.lengthComputable&&(e.percent_loading_active=!0,e.percent_loading=t.loaded/t.total*100)}}).then(a=>{e.manager_attachment_loading=!1,e.barAlert=!0,e.percent_loading_active=!1,e.percent_loading_active=0,a.body.hasOwnProperty("message")?(e.barMessage=a.body.message,"success"==a.body.status&&(t.hasOwnProperty("attachment_id")&&""!=t.attachment_id||(t.ID=a.body.data.ID,t.attachment_id=a.body.data.attachment_id,t.published_at=moment()),t.attachment_url=a.body.data.hasOwnProperty("attachment_url")?a.body.data.attachment_url:t.attachment_url,-1===s?e.agent_attachments.items.push(t):Object.assign(e.agent_attachments.items[s],t),e.agent_attachments.dialog=!1)):(e.alert_type="error",e.barMessage="There was an error")},t=>{e.manager_attachment_loading=!1,e.barAlert=!0,e.barMessage="There was an error, it can't be possible process the information sent"})},deleteAgentAttachment(){var e=this,t=e.agent_attachments.editedItem,a=api_url+"ra_elite_usa_insurance_delete_quote_manager_attachment",s=e.agent_attachments.editedIndex;e.$http.post(a,{ID:t.ID}).then(t=>{e.barAlert=!0,e.agent_attachments.delete_dialog=!1,t.body.hasOwnProperty("message")?(e.barMessage=t.body.message,"success"==t.body.status&&e.agent_attachments.items.splice(s,1)):(e.alert_type="error",e.barMessage="There was an error")},t=>{e.agent_attachments.delete_dialog=!1,e.barAlert=!0,e.barMessage="There was an error, it can't be possible process the information sent"})},showActionDetails(e){var t=this,a=t.action_history;a.editedItem=Object.assign({},e),a.detail_items=[];var s=a.items.filter(e=>e.post_parent==a.editedItem.post_parent);a.detail_items=s,a.details_dialog=!0},showItem(e){this.inbox.editedIndex=this.inbox.items.indexOf(e),this.inbox.editedItem=Object.assign({},e),this.view_dialog=!0},editItem(e){this.inbox.editedIndex=this.inbox.items.indexOf(e),this.inbox.editedItem=Object.assign({},e),this.edit_dialog=!0},editManagerAttachmentItem(e){this.manager_attachments.editedIndex=this.manager_attachments.items.indexOf(e),this.manager_attachments.editedItem=Object.assign({},e),this.manager_attachments.dialog=!0},editAttachmentItem(e){this.attachments.editedIndex=this.attachments.items.indexOf(e),this.attachments.editedItem=Object.assign({},e),this.attachments.dialog=!0},editUploadAttachmentItem(e){this.attachments.editedIndex=this.attachments.items.indexOf(e),this.attachments.editedItem=Object.assign({},e),this.attachments.upload_dialog=!0},deleteItem(e){this.inbox.editedIndex=this.inbox.items.indexOf(e),this.inbox.editedItem=Object.assign({},e),this.delete_dialog=!0},deleteDocumentItem(e){this.attachments.editedIndex=this.attachments.items.indexOf(e),this.attachments.editedItem=Object.assign({},e),this.attachments.delete_dialog=!0},deleteManagerAttachmentItem(e){this.manager_attachments.editedIndex=this.manager_attachments.items.indexOf(e),this.manager_attachments.editedItem=Object.assign({},e),this.manager_attachments.delete_dialog=!0},deleteInformationRequestItem(e){this.information_requests.editedIndex=this.information_requests.items.indexOf(e),this.information_requests.editedItem=Object.assign({},e),this.information_requests.delete_dialog=!0},markAgentAttachmentAsSeen(e){var t=this,a=api_url+"ra_elite_usa_insurance_mark_seen_quote_agent_attachment";0==e.status?t.$http.post(a,e).then(a=>{"success"==a.body.status&&(e.status=1),t.download([e.attachment_url])},e=>{}):t.download([e.attachment_url])},closeView(){this.view_dialog=!1,this.$nextTick(()=>{this.inbox.editedItem=Object.assign({},{}),this.inbox.editedIndex=-1})},closeAttachment(){this.attachments.dialog=!1,this.$nextTick(()=>{this.attachments.editedItem=Object.assign({},{}),this.attachments.editedIndex=-1})},closeInformationRequest(){this.information_requests.dialog=!1,this.$nextTick(()=>{this.information_requests.editedItem=Object.assign({},{}),this.information_requests.editedIndex=-1})},closeUploadInformationRequest(){this.information_requests.dialog=!1,this.$nextTick(()=>{this.information_requests.editedItem=Object.assign({},{}),this.information_requests.editedIndex=-1})},closeManagerAttachment(){this.manager_attachments.dialog=!1,this.$nextTick(()=>{this.manager_attachments.editedItem=Object.assign({},{}),this.manager_attachments.editedIndex=-1})},closeInformationRequest(){this.information_requests.dialog=!1,this.$nextTick(()=>{this.information_requests.editedItem=Object.assign({},{}),this.information_requests.editedIndex=-1})},closeUploadAttachment(){this.attachments.upload_dialog=!1,this.$nextTick(()=>{this.attachments.editedItem=Object.assign({},{}),this.attachments.editedIndex=-1})},closeEdit(){this.edit_dialog=!1,this.view_dialog||this.$nextTick(()=>{this.inbox.editedItem=Object.assign({},{}),this.inbox.editedIndex=-1})},closeDelete(){this.delete_dialog=!1,this.$nextTick(()=>{this.inbox.editedItem=Object.assign({},{}),this.inbox.editedIndex=-1})},closeInformationRequestDelete(){this.information_requests.delete_dialog=!1,this.$nextTick(()=>{this.information_requests.editedItem=Object.assign({},{}),this.information_requests.editedIndex=-1})},closeAttachmentDelete(){this.attachments.delete_dialog=!1,this.$nextTick(()=>{this.attachments.editedItem=Object.assign({},{}),this.attachments.editedIndex=-1})},getAge(e){var t=this,a=moment().diff(t.inbox.editedItem[e].birthdate,"years");return t.inbox.editedItem[e].age=a,a},calcTotalIncome(){var e=this,t=e.inbox.editedItem,a="string"==typeof t.employment_information.income?e.numberFormat(t.employment_information.income):parseInt(t.employment_information.income),s="string"==typeof t.espouse_employment_information.income?e.numberFormat(t.espouse_employment_information.income):parseInt(t.espouse_employment_information.income),n=a+s;return t.personal_information.total_income=e.currencyFormat(n,!0),t.personal_information.total_income},addDependent(){var e=this,t={added:0,gender:"",first_name:"",last_name:"",birthdate:"",relative:"",is_citizen:0,ssn:"",inmigration_status:"",uscis_number:"",card_number:"",document_from:"",document_expires:""};e.inbox.editedItem.dependents.push(t)},inputRelative:e=>"Other"!=e.relative_selected?(e.relative=e.relative_selected,!0):(e.relative="",!1),inputOtherIS:(e,t)=>"OTHER"!=e?(t.inmigration_status_selected=t.inmigration_status,!0):(t.inmigration_status_selected="",!1),removeDependent(e){var t=this;t.inbox.editedItem.dependents.splice(e,1)},updateQuoteForm(){var e=this,t=e.inbox.editedItem,a=api_url+"ra_elite_usa_insurance_save_quote_form",s=e.inbox.editedIndex;e.quote_loading=!0,e.$http.post(a,t).then(a=>{e.quote_loading=!1,e.barAlert=!0,a.body.hasOwnProperty("message")?(e.barMessage=a.body.message,"success"==a.body.status&&(Object.assign(e.inbox.items[s],t),e.edit_dialog=!1)):(e.alert_type="error",e.barMessage="There was an error")},t=>{e.quote_loading=!1,e.barAlert=!0,e.barMessage="There was an error, it can't be possible process the information sent"})},saveAttachmentRequest(){var e=this,t=e.attachments.editedItem,a=api_url+"ra_elite_usa_insurance_save_quote_attachment_request",s=e.attachments.editedIndex;t.post_parent=e.inbox.editedItem.ID,t.post_author=e.inbox.editedItem.post_author,e.attachment_loading=!0,e.$http.post(a,t).then(a=>{e.attachment_loading=!1,e.barAlert=!0,a.body.hasOwnProperty("message")?(e.barMessage=a.body.message,"success"==a.body.status&&(-1==s?(t.ID=a.body.data,t.attachment_url="",t.attachment_id="",e.attachments.items.push(t)):Object.assign(e.attachments.items[s],t),e.attachments.dialog=!1)):(e.alert_type="error",e.barMessage="There was an error")},t=>{e.attachment_loading=!1,e.barAlert=!0,e.barMessage="There was an error, it can't be possible process the information sent"})},saveInformationRequest(){var e=this,t=e.information_requests.editedItem,a=api_url+"ra_elite_usa_insurance_save_quote_information_request",s=e.information_requests.editedIndex;t.post_parent=e.inbox.editedItem.ID,t.post_author=e.inbox.editedItem.post_author,e.information_requests_loading=!0,e.$http.post(a,t).then(a=>{e.information_requests_loading=!1,e.barAlert=!0,a.body.hasOwnProperty("message")?(e.barMessage=a.body.message,"success"==a.body.status&&(-1==s?(t.ID=a.body.data,t.status=0,e.information_requests.items.push(t)):Object.assign(e.information_requests.items[s],t),e.closeInformationRequest())):(e.alert_type="error",e.barMessage="There was an error")},t=>{e.information_requests_loading=!1,e.barAlert=!0,e.barMessage="There was an error, it can't be possible process the information sent"})},saveManagerAttachment(){var e=this,t=e.manager_attachments.editedItem,a=api_url+"ra_elite_usa_insurance_save_quote_manager_attachment",s=e.manager_attachments.editedIndex,n=new FormData;t.hasOwnProperty("ID")&&null!=t.ID&&n.append("ID",t.ID),n.append("post_parent",e.inbox.editedItem.ID),n.append("agent",e.inbox.editedItem.post_author),n.append("post_title",t.post_title),null==t.doc&&""==t.doc||n.append("attachment",t.doc),t.hasOwnProperty("post_author")&&""!=t.post_author&&n.append("post_author",t.post_author),t.hasOwnProperty("attachment_id")&&""!=t.attachment_id&&n.append("attachment_id",t.attachment_id),t.hasOwnProperty("attachment_url")&&""!=t.attachment_url&&n.append("attachment_url",t.attachment_url),e.manager_attachment_loading=!0,e.$http.post(a,n,{progress(t){t.lengthComputable&&(e.percent_loading_active=!0,e.percent_loading=t.loaded/t.total*100)}}).then(a=>{e.manager_attachment_loading=!1,e.barAlert=!0,e.percent_loading_active=!1,e.percent_loading_active=0,a.body.hasOwnProperty("message")?(e.barMessage=a.body.message,"success"==a.body.status&&(t.hasOwnProperty("attachment_id")&&""!=t.attachment_id||(t.ID=a.body.data.ID,t.attachment_id=a.body.data.attachment_id,t.published_at=moment()),t.attachment_url=a.body.data.hasOwnProperty("attachment_url")?a.body.data.attachment_url:t.attachment_url,-1===s?e.manager_attachments.items.push(t):Object.assign(e.manager_attachments.items[s],t),e.manager_attachments.dialog=!1)):(e.alert_type="error",e.barMessage="There was an error")},t=>{e.manager_attachment_loading=!1,e.barAlert=!0,e.barMessage="There was an error, it can't be possible process the information sent"})},closeAttachment(){this.attachments.dialog=!1,this.$nextTick(()=>{this.attachments.editedItem=Object.assign({},{file:""}),this.attachments.editedIndex=-1})},closeInformationRequest(){this.information_requests.dialog=!1,this.$nextTick(()=>{this.information_requests.editedItem=Object.assign({},{}),this.information_requests.editedIndex=-1})},updateAttachmentName(e){var t=this,a=e,s=api_url+"ra_elite_usa_insurance_save_quote_attachment_request";t.attachments.items.indexOf(e);a.post_parent=t.inbox.editedItem.ID,a.post_author=t.inbox.editedItem.post_author,t.$http.post(s,a).then(e=>{t.barAlert=!0,e.body.hasOwnProperty("message")?(t.barMessage=e.body.message,"success"==e.body.status&&(t.$refs.attachment_edit_dialog.save(),t.attachments.dialog=!1)):(t.alert_type="error",t.barMessage="There was an error")},e=>{t.attachment_loading=!1,t.barAlert=!0,t.barMessage="There was an error, it can't be possible process the information sent"})},approveModification(e){var t=this,a=api_url+"ra_elite_usa_insurance_approve_form_modification_request";t.quote_loading=!0,t.$http.post(a,e).then(a=>{t.quote_loading=!1,t.barAlert=!0,a.body.hasOwnProperty("message")?(t.barMessage=a.body.message,"success"==a.body.status&&(e.status=1)):(t.alert_type="error",t.barMessage="There was an error")},e=>{t.quote_loading=!1,t.barAlert=!0,t.barMessage="There was an error, it can't be possible process the information sent"})},approveInformation(e){var t=this,a=api_url+"ra_elite_usa_insurance_approve_form_information_request";t.quote_loading=!0,t.$http.post(a,e).then(a=>{t.quote_loading=!1,t.barAlert=!0,a.body.hasOwnProperty("message")?(t.barMessage=a.body.message,"success"==a.body.status&&(e.status=1)):(t.alert_type="error",t.barMessage="There was an error")},e=>{t.quote_loading=!1,t.barAlert=!0,t.barMessage="There was an error, it can't be possible process the information sent"})},approveDocumentRequested(e){var t=this,a=api_url+"ra_elite_usa_insurance_approve_form_document_requested";t.$http.post(a,e).then(a=>{t.barAlert=!0,a.body.hasOwnProperty("message")?(t.barMessage=a.body.message,"success"==a.body.status&&(e.status=1)):(t.alert_type="error",t.barMessage="There was an error")},e=>{t.barAlert=!0,t.barMessage="There was an error, it can't be possible process the information sent"})},markAsProcessingDocumentRequested(e){var t=this,a=api_url+"ra_elite_usa_insurance_process_form_document_requested";t.$http.post(a,e).then(a=>{t.barAlert=!0,a.body.hasOwnProperty("message")?(t.barMessage=a.body.message,"success"==a.body.status&&(e.status=3)):(t.alert_type="error",t.barMessage="There was an error")},e=>{t.barAlert=!0,t.barMessage="There was an error, it can't be possible process the information sent"})},deleteQuoteForm(){var e=this,t=e.inbox.editedItem,a=api_url+"ra_elite_usa_insurance_delete_quote",s=e.inbox.editedIndex;e.$http.post(a,{ID:t.ID}).then(t=>{e.barAlert=!0,e.delete_dialog=!1,t.body.hasOwnProperty("message")?(e.barMessage=t.body.message,"success"==t.body.status&&e.inbox.items.splice(s,1)):(e.alert_type="error",e.barMessage="There was an error")},t=>{e.delete_dialog=!1,e.barAlert=!0,e.barMessage="There was an error, it can't be possible process the information sent"})},deleteDocumentRequested(){var e=this,t=e.attachments.editedItem,a=api_url+"ra_elite_usa_insurance_delete_quote_attachment_requested",s=e.attachments.editedIndex;e.$http.post(a,{ID:t.ID}).then(t=>{e.barAlert=!0,e.attachments.delete_dialog=!1,t.body.hasOwnProperty("message")?(e.barMessage=t.body.message,"success"==t.body.status&&e.attachments.items.splice(s,1)):(e.alert_type="error",e.barMessage="There was an error")},t=>{e.attachments.delete_dialog=!1,e.barAlert=!0,e.barMessage="There was an error, it can't be possible process the information sent"})},deleteManagerAttachment(){var e=this,t=e.manager_attachments.editedItem,a=api_url+"ra_elite_usa_insurance_delete_quote_manager_attachment",s=e.manager_attachments.editedIndex;e.$http.post(a,{ID:t.ID}).then(t=>{e.barAlert=!0,e.manager_attachments.delete_dialog=!1,t.body.hasOwnProperty("message")?(e.barMessage=t.body.message,"success"==t.body.status&&e.manager_attachments.items.splice(s,1)):(e.alert_type="error",e.barMessage="There was an error")},t=>{e.manager_attachments.delete_dialog=!1,e.barAlert=!0,e.barMessage="There was an error, it can't be possible process the information sent"})},uploadAttachment(){var e=this,t=e.attachments.editedItem,a=api_url+"ra_elite_usa_insurance_upload_quote_attachment_requested",s=e.attachments.editedIndex,n=new FormData;n.append("ID",t.ID),n.append("post_title",t.post_title),n.append("post_author",t.post_author),n.append("agent",e.inbox.editedItem.affordable_care_act.agent_name),""!=t.attachment_id&&n.append("attachment_id",t.attachment_id),t.doc.forEach((e,t)=>{n.append("attachment["+t+"]",e)}),e.attachment_loading=!0,e.$http.post(a,n,{progress(t){t.lengthComputable&&(e.percent_loading_active=!0,e.percent_loading=t.loaded/t.total*100)}}).then(a=>{e.attachment_loading=!1,e.barAlert=!0,e.percent_loading_active=!1,e.percent_loading_active=0,a.body.hasOwnProperty("message")?(e.barMessage=a.body.message,"success"==a.body.status&&(t.status=1,""==t.attachment_id&&(t.attachment_id=a.body.data.attachment_id),t.attachment_url=a.body.data.attachment_url,Object.assign(e.attachments.items[s],t),e.attachments.dialog=!1)):(e.alert_type="error",e.barMessage="There was an error")},t=>{e.attachment_loading=!1,e.barAlert=!0,e.barMessage="There was an error, it can't be possible process the information sent"})},uploadInformationRequest(){var e=this,t=e.information_requests.editedItem;t.agent=e.inbox.editedItem.affordable_care_act.agent_name;var a=api_url+"ra_elite_usa_insurance_upload_quote_information_requested",s=e.information_requests.editedIndex;e.information_requests_loading=!0,e.$http.post(a,t).then(a=>{e.information_requests_loading=!1,e.barAlert=!0,a.body.hasOwnProperty("message")?(e.barMessage=a.body.message,"success"==a.body.status&&(t.status=2,Object.assign(e.information_requests.items[s],t),e.information_requests.dialog=!1)):(e.alert_type="error",e.barMessage="There was an error")},t=>{e.attachment_loading=!1,e.barAlert=!0,e.barMessage="There was an error, it can't be possible process the information sent"})},deleteInformationRequest(){var e=this,t=e.information_requests.editedItem,a=api_url+"ra_elite_usa_insurance_delete_quote_information_request",s=e.information_requests.editedIndex;e.$http.post(a,{ID:t.ID}).then(t=>{e.barAlert=!0,e.information_requests.delete_dialog=!1,t.body.hasOwnProperty("message")?(e.barMessage=t.body.message,"success"==t.body.status&&e.information_requests.items.splice(s,1)):(e.alert_type="error",e.barMessage="There was an error")},t=>{e.manager_attachments.delete_dialog=!1,e.barAlert=!0,e.barMessage="There was an error, it can't be possible process the information sent"})},currencyFormat(e,t){if(typeof e!==String){var a=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),s=a.format(e);return t||(s=s.split("$")[1]),"$NaN"==s||NaN===s?t?"$"+e:e:s}return e},numberFormat:e=>Number(e.replace(/[^0-9.-]+/g,"")),showDetailsItem(e){this.inbox.editedItem=Object.assign({},e),this.inbox.view_dialog=!0},closeDetailsView(){this.inbox.view_dialog=!1,this.$nextTick(()=>{this.inbox.editedItem=Object.assign({},{}),this.inbox.editedIndex=-1})},returnPostType(e){switch(e){case"quote_form":return"Quote Form";case"quote_form_mr":return"Modification";case"quote_data_r":return"Information Requested";case"quote_a_doc":return"Document received";case"quote_doc_r":return"Document Requested"}},checkStatusColor(e,t){if("quote_form"==t)switch(e){case"Processing":return"warning";case"Approved":return"green";case"In tray":return"primary";default:return"grey darken-2"}else if("quote_doc_r"==t)switch(e=parseInt(e),e){case 0:return"warning";case 1:return"green";case 2:return"primary";case 3:return"warning"}else if("quote_a_doc"==t)switch(e=parseInt(e),e){case 0:return"primary";case 1:return"Seen"}else switch(e=parseInt(e),e){case 0:return"warning";case 1:return"green";case 2:return"primary"}},returnStatusType(e,t){if("quote_form"==t)return e;if("quote_a_doc"==t)switch(e=parseInt(e),e){case 0:return"Received";case 1:return"Seen"}else switch(e=parseInt(e),e){case 0:return"Processing";case 1:return"Approved";case 2:return"Received"}},getFormatDate:e=>""==e?"":moment(e).format("MM/DD/YYYY"),getFormatDateShort:e=>""==e?"":moment(e).format("MM/YYYY"),getFormatDateExtended:e=>""==e?"":moment(e).format("MM/DD/YYYY, h:mm:ss a"),filterQuotes(e){var t=this,a=t.inbox;a.loading_details=!0;var s=a.items.filter(t=>t.ID==e);if(s.length>0)t.showItem(s[0]),t.getModificationRequests(),t.getAttachmentsRequests(),t.getManagerAttachments(),t.getInformationRequests(),t.getAgentAttachments(),a.view_dialog=!1,a.loading_details=!1;else{t=this;var n=api_url+"ra_elite_usa_insurance_get_quote";t.$http.post(n,{ID:e}).then(e=>{null!=e.body&&e.body.hasOwnProperty("ID")?(s=e.body,s.published_at=moment(s.affordable_care_act.date).format("DD/MM/YYYY, h:mm:ss a"),s.applicant=s.personal_information.first_name+" "+s.personal_information.middle_name+" "+s.personal_information.last_name,a.editedItem=Object.assign({},s),t.showItem(s),t.getModificationRequests(),t.getAttachmentsRequests(),t.getManagerAttachments(),t.getInformationRequests(),t.getAgentAttachments(),a.view_dialog=!1,a.loading_details=!1):(t.barAlert=!0,t.barMessage="Any quote was found using the item requested",a.loading_details=!1)},e=>{t.table_loading=!1})}}}});