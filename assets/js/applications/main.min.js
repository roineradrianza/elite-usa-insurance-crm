const vuetify=new Vuetify(vuetify_opts),api_url=ra_elite_usa_insurance_ajaxurl,quote_id=url_params.get("quote_id"),action=url_params.get("action");let vm=new Vue({vuetify:vuetify,el:"#ra-elite-usa-insurance-container",data:{selectedItem:1,already_sent:!1,alert:!1,alert_type:"",alert_message:"",countries:countries,affordable_care_act_valid:!1,personal_information_valid:!1,employment_information_valid:!1,espouse_information_valid:!0,espouse_employment_information_valid:!1,dependents_information_valid:!1,payment_information_valid:!1,quote_loading:!1,pdf_loading:!1,logout_loading:!1,renew_loading:!1,not_able_to_renew:!1,not_quote_found:!1,stepper:1,preview:!1,routes:routes,notifications:[],form:{personal_information_birthdate_modal:!1,personal_information_document_expiration_modal:!1,affordable_care_act_date_modal:!1,espouse_information_birthdate_modal:!1,espouse_information_document_expiration_modal:!1,dependent_birthdate_modal:!1,dependent_expires_modal:!1,payment_expiration_date_modal:!1,options:{general:[{text:"Yes",value:1},{text:"No",value:0}],coverage_type:["INDIVIDUAL","FAMILY"],marital_status:["MARRIED","SINGLE"],inmigration_status:["WORK PERMIT AUTHORIZATION","RESIDENT / GREEN CARD","OTHER"],work_type:["W2","1099"],payment_by:["PER HOUR","WEEKLY","BIWEEKLY","MONTHLY","YEARLY"],relative:["Child","Mother","Father","Other"],payment_type:["","BANK ACCOUNT","CREDIT OR DEBIT CARD"],account_type:["CHECKING","SAVING"],cards_type:["DEBIT","CREDIT"],cards_entity_type:["MASTER CARD","VISA","AMERICAN EXPRESS","DISCOVER"]},rules:{required:[e=>!!e||"This field is required"],name:[e=>!!e||"Name is required",e=>e&&e.length<=1||"Name must be than 1 characters"],ucis:[e=>""!=!e||9==e.length||"You need to fill the 9 characters"],card_number:[e=>""!=!e||13==e.length||"You need to fill the 13 characters"],email:[e=>!!e||"E-mail is required",e=>/.+@.+\..+/.test(e)||"E-mail must be valid"]},default:{affordable_care_act:{client_type:"NEW",mfc:0,company_plan:"",plan:"",premium:0,deductible:0,moop:0,agent_name:udata.first_name+" "+udata.last_name,coverage_type:"INDIVIDUAL",coverage_nro_members:"",effectiveness_date:moment().format("YYYY-MM-DD"),date:moment().format("YYYY-MM-DD hh:mm:ss a"),additional_notes:""},personal_information:{added:1,total_income:0,marital_status:"SINGLE",gender:"",first_name:"",middle_name:"",last_name:"",email:"",telephone:"",birthdate:"",age:"",is_citizen:1,ssn:"",type:"",inmigration_status:"",uscis_number:"",card_number:"",category:"",document_from:"",document_expires:"",address:"",state:"",zip_code:"",county:"",city:"",birth_country:""},espouse_information:{added:1,first_name:"",middle_name:"",last_name:"",email:"",telephone:"",birthdate:"",age:"",is_citizen:1,ssn:"",inmigration_status:"",uscis_number:"",card_number:"",category:"",document_from:"",document_expires:"",address:""},employment_information:{work_type:"",employer:"",company:"",income:0,payment_by:""},espouse_employment_information:{is_employed:0,work_type:"",employer:"",company:"",income:0,payment_by:""},dependents:[],documents:[],payment_information:{type:"",bank:{name:"",type:"",owner_name:"",routing_number:"",account_number:"",city:"",estate:""},card:{name:"",type:"DEBIT",entity:"",number:"",expiration_date:"",ccv:"",bank_name:""}}},content:{affordable_care_act:{client_type:"NEW",mfc:0,company_plan:"",plan:"",premium:0,deductible:0,moop:0,agent_name:udata.first_name+" "+udata.last_name,coverage_type:"INDIVIDUAL",coverage_nro_members:"",effectiveness_date:moment().format("YYYY-MM-DD"),date:moment().format("YYYY-MM-DD hh:mm:ss a"),additional_notes:""},personal_information:{added:1,total_income:0,marital_status:"SINGLE",gender:"",first_name:"",middle_name:"",last_name:"",email:"",telephone:"",birthdate:"",age:"",is_citizen:1,ssn:"",type:"",inmigration_status:"",inmigration_status_selected:"",uscis_number:"",card_number:"",category:"",document_from:"",document_expires:"",address:"",state:"",zip_code:"",county:"",city:"",birth_country:""},espouse_information:{added:1,gender:"",first_name:"",middle_name:"",last_name:"",email:"",telephone:"",birthdate:"",age:"",is_citizen:1,ssn:"",inmigration_status:"",inmigration_status_selected:"",uscis_number:"",card_number:"",category:"",document_from:"",document_expires:"",address:""},employment_information:{work_type:"",employer:"",company:"",income:0,payment_by:""},espouse_employment_information:{is_employed:0,work_type:"",employer:"",company:"",income:0,payment_by:""},dependents:[],documents:[],payment_information:{type:"",bank:{name:"",type:"",owner_name:"",routing_number:"",account_number:"",city:"",estate:""},card:{name:"",type:"DEBIT",entity:"",number:"",expiration_date:"",ccv:"",bank_name:""}}}}},computed:{},watch:{},created(){initNotifications(this),setInterval(initNotifications,3e4,this),this.initialize()},mounted(){},methods:{initialize(){var e=this;if(null!==quote_id){var t=api_url+"ra_elite_usa_insurance_get_quote";e.renew_loading=!0,e.$http.post(t,{ID:quote_id}).then(t=>{e.renew_loading=!1,null!=t.body&&t.body.hasOwnProperty("ID")?(t.body.published_at=moment(t.body.affordable_care_act.date).format("DD/MM/YYYY, h:mm:ss a"),t.body.affordable_care_act.date=moment().format("YYYY-MM-DD hh:mm:ss a"),t.body.affordable_care_act.effectiveness_date=moment().format("YYYY-MM-DD"),t.body.affordable_care_act.renewal_date=moment(moment().format("YYYY")+"-11-22").add("1","year").format("YYYY-MM-DD"),t.body.documents=[],t.body.applicant=t.body.personal_information.first_name+" "+t.body.personal_information.middle_name+" "+t.body.personal_information.last_name,e.form.content=t.body):e.not_quote_found=!0},t=>{403==t.status&&(e.not_able_to_renew=!0),e.renew_loading=!1})}},amountOfNumbers(e){if(""==!e&&9!=e.length)return"You need to fill the 9 characters"},logout(){var e=this,t=api_url+"ra_elite_usa_insurance_logout";e.logout_loading=!0,e.$http.get(t).then(t=>{e.logout_loading=!1,window.location=t.body.redirect_url},t=>{e.logout_loading=!1})},getAge(e){var t=this,a=moment().diff(t.form.content[e].birthdate,"years");return t.form.content[e].age=a,a},calcTotalIncome(){var e=this,t=e.form.content,a="string"==typeof t.employment_information.income?e.numberFormat(t.employment_information.income):parseInt(t.employment_information.income),n="string"==typeof t.espouse_employment_information.income?e.numberFormat(t.espouse_employment_information.income):parseInt(t.espouse_employment_information.income),o=a+n;return t.personal_information.total_income=e.currencyFormat(o,!0),t.personal_information.total_income},addDependent(){var e=this,t={added:0,gender:"",first_name:"",last_name:"",birthdate:"",relative:"",is_citizen:0,ssn:"",inmigration_status:"",inmigration_status_selected:"",uscis_number:"",card_number:"",document_from:"",document_expires:""};e.form.content.dependents.push(t)},inputRelative:e=>"Other"!=e.relative_selected?(e.relative=e.relative_selected,!0):(e.relative="",!1),inputOtherIS:(e,t)=>"OTHER"!=e?(t.inmigration_status_selected=t.inmigration_status,!0):(t.inmigration_status_selected="",!1),removeDependent(e){var t=this;t.form.content.dependents.splice(e,1)},scrollToTopStepper(){var e=this;e.$refs.stepper_h.scrollIntoView({behavior:"smooth"})},sendQuoteForm(){var e=this;e.updateFormDate();var t=e.form.content,a=new FormData,n=api_url+"ra_elite_usa_insurance_save_quote_form";a.append("post_parent",quote_id),a.append("affordable_care_act",JSON.stringify(t.affordable_care_act)),a.append("personal_information",JSON.stringify(t.personal_information)),a.append("employment_information",JSON.stringify(t.employment_information)),a.append("espouse_information",JSON.stringify(t.espouse_information)),a.append("espouse_employment_information",JSON.stringify(t.espouse_employment_information)),a.append("dependents",JSON.stringify(t.dependents)),a.append("payment_information",JSON.stringify(t.payment_information)),a.append("docs_info",JSON.stringify(t.documents)),t.documents.forEach((e,t)=>{a.append("documents["+t+"]",e.file)}),e.quote_loading=!0,e.$http.post(n,a).then(t=>{e.quote_loading=!1,e.alert=!0,t.body.hasOwnProperty("message")?(e.alert_type=t.body.status,e.already_sent="success"==t.body.status,e.alert_message=t.body.message):(e.alert_type="error",e.alert_message="There was an error")},t=>{e.quote_loading=!1,e.alert_type="error",e.alert_message="There was an error, it can't be possible process the information sent"})},generateQuotePDF(){var e=this,t=e.form.content;t.applicant=t.personal_information.first_name+" "+t.personal_information.middle_name+" "+t.personal_information.last_name;var a=api_url+"ra_elite_usa_insurance_generate_quote_pdf";e.pdf_loading=!0,e.$http.post(a,t).then(t=>{if("success"==t.body.status){e.pdf_loading=!1;var a=t.body,n=document.createElement("a");n.href=a.content,document.body.append(n),n.download=a.applicant+".pdf",n.click(),n.remove()}},e=>{})},resetQuoteForm(){var e=this;e.preview=!1,e.already_sent=!1,e.stepper=1,quote_id=null,e.form.content=Object.assign({},e.form.default),e.scrollToTopStepper()},currencyFormat(e,t){var a=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),n=a.format(e);return t||(n=n.split("$")[1]),n},numberFormat:e=>Number(e.replace(/[^0-9.-]+/g,"")),getFormatDate:e=>""==e?"":moment(e).format("MM/DD/YYYY"),getFormatDateShort:e=>""==e?"":moment(e).format("MM/YYYY"),getFormatDateExtended:e=>""==e?"":moment(e).format("MM/DD/YYYY, h:mm:ss a"),updateFormDate(){this.form.content.affordable_care_act.date=moment().format("YYYY-MM-DD hh:mm:ss a")},validateFields(e,t){var a=this;return!!a.$refs[e].validate()&&(a.stepper++,a.scrollToTopStepper(),!0)}}});